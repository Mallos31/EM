glabel func_80028AAC
/* 296AC 80028AAC 27BDFE48 */  addiu      $sp, $sp, -0x1B8
/* 296B0 80028AB0 AFB00018 */  sw         $s0, 0x18($sp)
/* 296B4 80028AB4 00808025 */  or         $s0, $a0, $zero
/* 296B8 80028AB8 AFBF003C */  sw         $ra, 0x3C($sp)
/* 296BC 80028ABC AFBE0038 */  sw         $fp, 0x38($sp)
/* 296C0 80028AC0 AFB70034 */  sw         $s7, 0x34($sp)
/* 296C4 80028AC4 AFB60030 */  sw         $s6, 0x30($sp)
/* 296C8 80028AC8 AFB5002C */  sw         $s5, 0x2C($sp)
/* 296CC 80028ACC AFB40028 */  sw         $s4, 0x28($sp)
/* 296D0 80028AD0 AFB30024 */  sw         $s3, 0x24($sp)
/* 296D4 80028AD4 AFB20020 */  sw         $s2, 0x20($sp)
/* 296D8 80028AD8 AFB1001C */  sw         $s1, 0x1C($sp)
/* 296DC 80028ADC 3C0E8009 */  lui        $t6, %hi(D_8008F440)
/* 296E0 80028AE0 8DCEF440 */  lw         $t6, %lo(D_8008F440)($t6)
/* 296E4 80028AE4 3C013F80 */  lui        $at, (0x3F800000 >> 16)
/* 296E8 80028AE8 44814000 */  mtc1       $at, $f8
/* 296EC 80028AEC 448E2000 */  mtc1       $t6, $f4
/* 296F0 80028AF0 3C014270 */  lui        $at, (0x42700000 >> 16)
/* 296F4 80028AF4 44818000 */  mtc1       $at, $f16
/* 296F8 80028AF8 468021A0 */  cvt.s.w    $f6, $f4
/* 296FC 80028AFC AFA00128 */  sw         $zero, 0x128($sp)
/* 29700 80028B00 AFA00068 */  sw         $zero, 0x68($sp)
/* 29704 80028B04 AFA00064 */  sw         $zero, 0x64($sp)
/* 29708 80028B08 2401FFF0 */  addiu      $at, $zero, -0x10
/* 2970C 80028B0C 27A401A0 */  addiu      $a0, $sp, 0x1A0
/* 29710 80028B10 46083282 */  mul.s      $f10, $f6, $f8
/* 29714 80028B14 27A50180 */  addiu      $a1, $sp, 0x180
/* 29718 80028B18 24060008 */  addiu      $a2, $zero, 0x8
/* 2971C 80028B1C 46105003 */  div.s      $f0, $f10, $f16
/* 29720 80028B20 4600048D */  trunc.w.s  $f18, $f0
/* 29724 80028B24 44039000 */  mfc1       $v1, $f18
/* 29728 80028B28 00000000 */  nop
/* 2972C 80028B2C 44832000 */  mtc1       $v1, $f4
/* 29730 80028B30 00601025 */  or         $v0, $v1, $zero
/* 29734 80028B34 468021A0 */  cvt.s.w    $f6, $f4
/* 29738 80028B38 4600303C */  c.lt.s     $f6, $f0
/* 2973C 80028B3C 00000000 */  nop
/* 29740 80028B40 45020003 */  bc1fl      .L80028B50
/* 29744 80028B44 3058000F */   andi      $t8, $v0, 0xF
/* 29748 80028B48 24620001 */  addiu      $v0, $v1, 0x1
/* 2974C 80028B4C 3058000F */  andi       $t8, $v0, 0xF
.L80028B50:
/* 29750 80028B50 13000002 */  beqz       $t8, .L80028B5C
/* 29754 80028B54 0041C824 */   and       $t9, $v0, $at
/* 29758 80028B58 27220010 */  addiu      $v0, $t9, 0x10
.L80028B5C:
/* 2975C 80028B5C 0C00DC84 */  jal        func_80037210
/* 29760 80028B60 AFA20130 */   sw        $v0, 0x130($sp)
/* 29764 80028B64 27A40168 */  addiu      $a0, $sp, 0x168
/* 29768 80028B68 27A50148 */  addiu      $a1, $sp, 0x148
/* 2976C 80028B6C 0C00DC84 */  jal        func_80037210
/* 29770 80028B70 24060008 */   addiu     $a2, $zero, 0x8
/* 29774 80028B74 02002025 */  or         $a0, $s0, $zero
/* 29778 80028B78 27A50140 */  addiu      $a1, $sp, 0x140
/* 2977C 80028B7C 0C0001FD */  jal        func_800007F4
/* 29780 80028B80 27A601A0 */   addiu     $a2, $sp, 0x1A0
/* 29784 80028B84 0C0001BE */  jal        func_800006F8
/* 29788 80028B88 02002025 */   or        $a0, $s0, $zero
/* 2978C 80028B8C 3C1E8009 */  lui        $fp, %hi(D_8008F7A8)
/* 29790 80028B90 AFA20120 */  sw         $v0, 0x120($sp)
/* 29794 80028B94 27DEF7A8 */  addiu      $fp, $fp, %lo(D_8008F7A8)
/* 29798 80028B98 2417001C */  addiu      $s7, $zero, 0x1C
/* 2979C 80028B9C 24140002 */  addiu      $s4, $zero, 0x2
.L80028BA0:
/* 297A0 80028BA0 27A401A0 */  addiu      $a0, $sp, 0x1A0
.L80028BA4:
/* 297A4 80028BA4 27A50068 */  addiu      $a1, $sp, 0x68
/* 297A8 80028BA8 0C00DCC8 */  jal        func_80037320
/* 297AC 80028BAC 24060001 */   addiu     $a2, $zero, 0x1
/* 297B0 80028BB0 8FA80068 */  lw         $t0, 0x68($sp)
/* 297B4 80028BB4 24010001 */  addiu      $at, $zero, 0x1
/* 297B8 80028BB8 85030000 */  lh         $v1, 0x0($t0)
/* 297BC 80028BBC 10610005 */  beq        $v1, $at, .L80028BD4
/* 297C0 80028BC0 24010003 */   addiu     $at, $zero, 0x3
/* 297C4 80028BC4 106100B0 */  beq        $v1, $at, .L80028E88
/* 297C8 80028BC8 8FAA0064 */   lw        $t2, 0x64($sp)
/* 297CC 80028BCC 1000FFF5 */  b          .L80028BA4
/* 297D0 80028BD0 27A401A0 */   addiu     $a0, $sp, 0x1A0
.L80028BD4:
/* 297D4 80028BD4 0C00A586 */  jal        func_80029618
/* 297D8 80028BD8 00000000 */   nop
/* 297DC 80028BDC 8FA90064 */  lw         $t1, 0x64($sp)
/* 297E0 80028BE0 24010001 */  addiu      $at, $zero, 0x1
/* 297E4 80028BE4 00008825 */  or         $s1, $zero, $zero
/* 297E8 80028BE8 11210006 */  beq        $t1, $at, .L80028C04
/* 297EC 80028BEC 27B0005C */   addiu     $s0, $sp, 0x5C
/* 297F0 80028BF0 5134FFEC */  beql       $t1, $s4, .L80028BA4
/* 297F4 80028BF4 27A401A0 */   addiu     $a0, $sp, 0x1A0
/* 297F8 80028BF8 8FB30130 */  lw         $s3, 0x130($sp)
/* 297FC 80028BFC 1000002E */  b          .L80028CB8
/* 29800 80028C00 2673FFF0 */   addiu     $s3, $s3, -0x10
.L80028C04:
/* 29804 80028C04 27B20060 */  addiu      $s2, $sp, 0x60
.L80028C08:
/* 29808 80028C08 864B0000 */  lh         $t3, 0x0($s2)
/* 2980C 80028C0C 860A0000 */  lh         $t2, 0x0($s0)
/* 29810 80028C10 00117080 */  sll        $t6, $s1, 2
/* 29814 80028C14 0177001A */  div        $zero, $t3, $s7
/* 29818 80028C18 00006012 */  mflo       $t4
/* 2981C 80028C1C 014C6823 */  subu       $t5, $t2, $t4
/* 29820 80028C20 A60D0000 */  sh         $t5, 0x0($s0)
/* 29824 80028C24 86050000 */  lh         $a1, 0x0($s0)
/* 29828 80028C28 16E00002 */  bnez       $s7, .L80028C34
/* 2982C 80028C2C 00000000 */   nop
/* 29830 80028C30 0007000D */  break      7
.L80028C34:
/* 29834 80028C34 2401FFFF */  addiu      $at, $zero, -0x1
/* 29838 80028C38 16E10004 */  bne        $s7, $at, .L80028C4C
/* 2983C 80028C3C 3C018000 */   lui       $at, (0x80000000 >> 16)
/* 29840 80028C40 15610002 */  bne        $t3, $at, .L80028C4C
/* 29844 80028C44 00000000 */   nop
/* 29848 80028C48 0006000D */  break      6
.L80028C4C:
/* 2984C 80028C4C 01D17023 */  subu       $t6, $t6, $s1
/* 29850 80028C50 04A30004 */  bgezl      $a1, .L80028C64
/* 29854 80028C54 000E7080 */   sll       $t6, $t6, 2
/* 29858 80028C58 A6000000 */  sh         $zero, 0x0($s0)
/* 2985C 80028C5C 86050000 */  lh         $a1, 0x0($s0)
/* 29860 80028C60 000E7080 */  sll        $t6, $t6, 2
.L80028C64:
/* 29864 80028C64 01D17021 */  addu       $t6, $t6, $s1
/* 29868 80028C68 000E70C0 */  sll        $t6, $t6, 3
/* 2986C 80028C6C 01D17023 */  subu       $t6, $t6, $s1
/* 29870 80028C70 000E7080 */  sll        $t6, $t6, 2
/* 29874 80028C74 03CE2021 */  addu       $a0, $fp, $t6
/* 29878 80028C78 0C00E790 */  jal        func_80039E40
/* 2987C 80028C7C 2484001C */   addiu     $a0, $a0, 0x1C
/* 29880 80028C80 26310001 */  addiu      $s1, $s1, 0x1
/* 29884 80028C84 26100002 */  addiu      $s0, $s0, 0x2
/* 29888 80028C88 1634FFDF */  bne        $s1, $s4, .L80028C08
/* 2988C 80028C8C 26520002 */   addiu     $s2, $s2, 0x2
/* 29890 80028C90 87AF005C */  lh         $t7, 0x5C($sp)
/* 29894 80028C94 87B8005E */  lh         $t8, 0x5E($sp)
/* 29898 80028C98 55E00006 */  bnel       $t7, $zero, .L80028CB4
/* 2989C 80028C9C 8FB30130 */   lw        $s3, 0x130($sp)
/* 298A0 80028CA0 17000003 */  bnez       $t8, .L80028CB0
/* 298A4 80028CA4 8FB90064 */   lw        $t9, 0x64($sp)
/* 298A8 80028CA8 27280001 */  addiu      $t0, $t9, 0x1
/* 298AC 80028CAC AFA80064 */  sw         $t0, 0x64($sp)
.L80028CB0:
/* 298B0 80028CB0 8FB30130 */  lw         $s3, 0x130($sp)
.L80028CB4:
/* 298B4 80028CB4 2673FFF0 */  addiu      $s3, $s3, -0x10
.L80028CB8:
/* 298B8 80028CB8 3C128005 */  lui        $s2, %hi(D_80055940)
/* 298BC 80028CBC 8E525940 */  lw         $s2, %lo(D_80055940)($s2)
/* 298C0 80028CC0 24010003 */  addiu      $at, $zero, 0x3
/* 298C4 80028CC4 3C078005 */  lui        $a3, %hi(D_8005593C)
/* 298C8 80028CC8 0241001A */  div        $zero, $s2, $at
/* 298CC 80028CCC 8CE7593C */  lw         $a3, %lo(D_8005593C)($a3)
/* 298D0 80028CD0 3C158009 */  lui        $s5, %hi(D_8008F080)
/* 298D4 80028CD4 27AB0070 */  addiu      $t3, $sp, 0x70
/* 298D8 80028CD8 00074880 */  sll        $t1, $a3, 2
/* 298DC 80028CDC 01274823 */  subu       $t1, $t1, $a3
/* 298E0 80028CE0 00094880 */  sll        $t1, $t1, 2
/* 298E4 80028CE4 01274823 */  subu       $t1, $t1, $a3
/* 298E8 80028CE8 00075080 */  sll        $t2, $a3, 2
/* 298EC 80028CEC 000948C0 */  sll        $t1, $t1, 3
/* 298F0 80028CF0 02AAA821 */  addu       $s5, $s5, $t2
/* 298F4 80028CF4 00009010 */  mfhi       $s2
/* 298F8 80028CF8 012B8021 */  addu       $s0, $t1, $t3
/* 298FC 80028CFC 0C00A277 */  jal        func_800289DC
/* 29900 80028D00 8EB5F080 */   lw        $s5, %lo(D_8008F080)($s5)
/* 29904 80028D04 3C0E8009 */  lui        $t6, %hi(D_8008F090)
/* 29908 80028D08 25CEF090 */  addiu      $t6, $t6, %lo(D_8008F090)
/* 2990C 80028D0C 00126880 */  sll        $t5, $s2, 2
/* 29910 80028D10 01AEB021 */  addu       $s6, $t5, $t6
/* 29914 80028D14 0C00E02C */  jal        func_800380B0
/* 29918 80028D18 8EC40000 */   lw        $a0, 0x0($s6)
/* 2991C 80028D1C 8FB90130 */  lw         $t9, 0x130($sp)
/* 29920 80028D20 8FA80128 */  lw         $t0, 0x128($sp)
/* 29924 80028D24 3C188005 */  lui        $t8, %hi(D_80055944)
/* 29928 80028D28 27185944 */  addiu      $t8, $t8, %lo(D_80055944)
/* 2992C 80028D2C 03284823 */  subu       $t1, $t9, $t0
/* 29930 80028D30 252B0060 */  addiu      $t3, $t1, 0x60
/* 29934 80028D34 00127840 */  sll        $t7, $s2, 1
/* 29938 80028D38 01F88821 */  addu       $s1, $t7, $t8
/* 2993C 80028D3C 316AFFF0 */  andi       $t2, $t3, 0xFFF0
/* 29940 80028D40 A62A0000 */  sh         $t2, 0x0($s1)
/* 29944 80028D44 86270000 */  lh         $a3, 0x0($s1)
/* 29948 80028D48 00403025 */  or         $a2, $v0, $zero
/* 2994C 80028D4C 02A02025 */  or         $a0, $s5, $zero
/* 29950 80028D50 00F3082A */  slt        $at, $a3, $s3
/* 29954 80028D54 10200003 */  beqz       $at, .L80028D64
/* 29958 80028D58 3C058009 */   lui       $a1, %hi(D_8008F758)
/* 2995C 80028D5C A6330000 */  sh         $s3, 0x0($s1)
/* 29960 80028D60 86270000 */  lh         $a3, 0x0($s1)
.L80028D64:
/* 29964 80028D64 3C0C8005 */  lui        $t4, %hi(D_8004BA50)
/* 29968 80028D68 3C0D8005 */  lui        $t5, %hi(D_8004B980)
/* 2996C 80028D6C 25ADB980 */  addiu      $t5, $t5, %lo(D_8004B980)
/* 29970 80028D70 258CBA50 */  addiu      $t4, $t4, %lo(D_8004BA50)
/* 29974 80028D74 018D9023 */  subu       $s2, $t4, $t5
/* 29978 80028D78 0C00E7F2 */  jal        func_80039FC8
/* 2997C 80028D7C 24A5F758 */   addiu     $a1, $a1, %lo(D_8008F758)
/* 29980 80028D80 3C078005 */  lui        $a3, %hi(D_8005593C)
/* 29984 80028D84 8CE7593C */  lw         $a3, %lo(D_8005593C)($a3)
/* 29988 80028D88 3C188009 */  lui        $t8, %hi(D_8008F080)
/* 2998C 80028D8C 27AE0168 */  addiu      $t6, $sp, 0x168
/* 29990 80028D90 2718F080 */  addiu      $t8, $t8, %lo(D_8008F080)
/* 29994 80028D94 00077880 */  sll        $t7, $a3, 2
/* 29998 80028D98 AE000000 */  sw         $zero, 0x0($s0)
/* 2999C 80028D9C AE0E0050 */  sw         $t6, 0x50($s0)
/* 299A0 80028DA0 AE000054 */  sw         $zero, 0x54($s0)
/* 299A4 80028DA4 01F81821 */  addu       $v1, $t7, $t8
/* 299A8 80028DA8 8C790000 */  lw         $t9, 0x0($v1)
/* 299AC 80028DAC 3C0C8005 */  lui        $t4, %hi(D_8004B980)
/* 299B0 80028DB0 3C0D8005 */  lui        $t5, %hi(D_8004CE80)
/* 299B4 80028DB4 AE190040 */  sw         $t9, 0x40($s0)
/* 299B8 80028DB8 8C680000 */  lw         $t0, 0x0($v1)
/* 299BC 80028DBC 3C0E8007 */  lui        $t6, %hi(D_80070A60)
/* 299C0 80028DC0 258CB980 */  addiu      $t4, $t4, %lo(D_8004B980)
/* 299C4 80028DC4 00484823 */  subu       $t1, $v0, $t0
/* 299C8 80028DC8 000958C3 */  sra        $t3, $t1, 3
/* 299CC 80028DCC 000B50C0 */  sll        $t2, $t3, 3
/* 299D0 80028DD0 25ADCE80 */  addiu      $t5, $t5, %lo(D_8004CE80)
/* 299D4 80028DD4 25CE0A60 */  addiu      $t6, $t6, %lo(D_80070A60)
/* 299D8 80028DD8 240F0800 */  addiu      $t7, $zero, 0x800
/* 299DC 80028DDC AE0A0044 */  sw         $t2, 0x44($s0)
/* 299E0 80028DE0 AE140010 */  sw         $s4, 0x10($s0)
/* 299E4 80028DE4 AE000014 */  sw         $zero, 0x14($s0)
/* 299E8 80028DE8 AE0C0018 */  sw         $t4, 0x18($s0)
/* 299EC 80028DEC AE12001C */  sw         $s2, 0x1C($s0)
/* 299F0 80028DF0 AE0D0020 */  sw         $t5, 0x20($s0)
/* 299F4 80028DF4 AE0E0028 */  sw         $t6, 0x28($s0)
/* 299F8 80028DF8 AE0F002C */  sw         $t7, 0x2C($s0)
/* 299FC 80028DFC AE000030 */  sw         $zero, 0x30($s0)
/* 29A00 80028E00 AE000034 */  sw         $zero, 0x34($s0)
/* 29A04 80028E04 AE000038 */  sw         $zero, 0x38($s0)
/* 29A08 80028E08 AE00003C */  sw         $zero, 0x3C($s0)
/* 29A0C 80028E0C AE000048 */  sw         $zero, 0x48($s0)
/* 29A10 80028E10 AE00004C */  sw         $zero, 0x4C($s0)
/* 29A14 80028E14 8FA40120 */  lw         $a0, 0x120($sp)
/* 29A18 80028E18 02002825 */  or         $a1, $s0, $zero
/* 29A1C 80028E1C 0C00DD5C */  jal        func_80037570
/* 29A20 80028E20 24060001 */   addiu     $a2, $zero, 0x1
/* 29A24 80028E24 0C00E958 */  jal        func_8003A560
/* 29A28 80028E28 00000000 */   nop
/* 29A2C 80028E2C 3C088005 */  lui        $t0, %hi(D_80055940)
/* 29A30 80028E30 8D085940 */  lw         $t0, %lo(D_80055940)($t0)
/* 29A34 80028E34 3C078005 */  lui        $a3, %hi(D_8005593C)
/* 29A38 80028E38 8CE7593C */  lw         $a3, %lo(D_8005593C)($a3)
/* 29A3C 80028E3C 3C018005 */  lui        $at, %hi(D_80055940)
/* 29A40 80028E40 25090001 */  addiu      $t1, $t0, 0x1
/* 29A44 80028E44 AC295940 */  sw         $t1, %lo(D_80055940)($at)
/* 29A48 80028E48 0002C082 */  srl        $t8, $v0, 2
/* 29A4C 80028E4C 3C018005 */  lui        $at, %hi(D_8005593C)
/* 29A50 80028E50 38F90001 */  xori       $t9, $a3, 0x1
/* 29A54 80028E54 AFB80128 */  sw         $t8, 0x128($sp)
/* 29A58 80028E58 AC39593C */  sw         $t9, %lo(D_8005593C)($at)
/* 29A5C 80028E5C 27A40168 */  addiu      $a0, $sp, 0x168
/* 29A60 80028E60 00002825 */  or         $a1, $zero, $zero
/* 29A64 80028E64 0C00DCC8 */  jal        func_80037320
/* 29A68 80028E68 24060001 */   addiu     $a2, $zero, 0x1
/* 29A6C 80028E6C 86250000 */  lh         $a1, 0x0($s1)
/* 29A70 80028E70 8EC40000 */  lw         $a0, 0x0($s6)
/* 29A74 80028E74 00055880 */  sll        $t3, $a1, 2
/* 29A78 80028E78 0C00E95C */  jal        func_8003A570
/* 29A7C 80028E7C 01602825 */   or        $a1, $t3, $zero
/* 29A80 80028E80 1000FF48 */  b          .L80028BA4
/* 29A84 80028E84 27A401A0 */   addiu     $a0, $sp, 0x1A0
.L80028E88:
/* 29A88 80028E88 254C0001 */  addiu      $t4, $t2, 0x1
/* 29A8C 80028E8C 3C048009 */  lui        $a0, %hi(D_8008F7C4)
/* 29A90 80028E90 AFAC0064 */  sw         $t4, 0x64($sp)
/* 29A94 80028E94 0C00E988 */  jal        func_8003A620
/* 29A98 80028E98 2484F7C4 */   addiu     $a0, $a0, %lo(D_8008F7C4)
/* 29A9C 80028E9C 3C048009 */  lui        $a0, %hi(D_8008F960)
/* 29AA0 80028EA0 A7A20060 */  sh         $v0, 0x60($sp)
/* 29AA4 80028EA4 0C00E988 */  jal        func_8003A620
/* 29AA8 80028EA8 2484F960 */   addiu     $a0, $a0, %lo(D_8008F960)
/* 29AAC 80028EAC 87AE0060 */  lh         $t6, 0x60($sp)
/* 29AB0 80028EB0 A7A2005E */  sh         $v0, 0x5E($sp)
/* 29AB4 80028EB4 A7A20062 */  sh         $v0, 0x62($sp)
/* 29AB8 80028EB8 1000FF39 */  b          .L80028BA0
/* 29ABC 80028EBC A7AE005C */   sh        $t6, 0x5C($sp)
/* 29AC0 80028EC0 00000000 */  nop
/* 29AC4 80028EC4 00000000 */  nop
/* 29AC8 80028EC8 00000000 */  nop
/* 29ACC 80028ECC 00000000 */  nop
/* 29AD0 80028ED0 8FBF003C */  lw         $ra, 0x3C($sp)
/* 29AD4 80028ED4 8FB00018 */  lw         $s0, 0x18($sp)
/* 29AD8 80028ED8 8FB1001C */  lw         $s1, 0x1C($sp)
/* 29ADC 80028EDC 8FB20020 */  lw         $s2, 0x20($sp)
/* 29AE0 80028EE0 8FB30024 */  lw         $s3, 0x24($sp)
/* 29AE4 80028EE4 8FB40028 */  lw         $s4, 0x28($sp)
/* 29AE8 80028EE8 8FB5002C */  lw         $s5, 0x2C($sp)
/* 29AEC 80028EEC 8FB60030 */  lw         $s6, 0x30($sp)
/* 29AF0 80028EF0 8FB70034 */  lw         $s7, 0x34($sp)
/* 29AF4 80028EF4 8FBE0038 */  lw         $fp, 0x38($sp)
/* 29AF8 80028EF8 03E00008 */  jr         $ra
/* 29AFC 80028EFC 27BD01B8 */   addiu     $sp, $sp, 0x1B8
