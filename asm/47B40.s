.include "macro.inc"

/* assembler directives */
.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */
.set gp=64     /* allow use of 64-bit general purpose registers */

.section .text, "ax"

/* Generated by spimdisasm 1.17.3 */

glabel func_80046F40
/* 47B40 80046F40 27BDFFA0 */  addiu      $sp, $sp, -0x60
/* 47B44 80046F44 AFBF003C */  sw         $ra, 0x3C($sp)
/* 47B48 80046F48 AFB60030 */  sw         $s6, 0x30($sp)
/* 47B4C 80046F4C AFB5002C */  sw         $s5, 0x2C($sp)
/* 47B50 80046F50 AFB1001C */  sw         $s1, 0x1C($sp)
/* 47B54 80046F54 00A08825 */  or         $s1, $a1, $zero
/* 47B58 80046F58 0080B025 */  or         $s6, $a0, $zero
/* 47B5C 80046F5C AFBE0038 */  sw         $fp, 0x38($sp)
/* 47B60 80046F60 AFB70034 */  sw         $s7, 0x34($sp)
/* 47B64 80046F64 AFB40028 */  sw         $s4, 0x28($sp)
/* 47B68 80046F68 AFB30024 */  sw         $s3, 0x24($sp)
/* 47B6C 80046F6C AFB20020 */  sw         $s2, 0x20($sp)
/* 47B70 80046F70 AFB00018 */  sw         $s0, 0x18($sp)
/* 47B74 80046F74 AFA60068 */  sw         $a2, 0x68($sp)
/* 47B78 80046F78 AFA7006C */  sw         $a3, 0x6C($sp)
/* 47B7C 80046F7C 0C011B08 */  jal        func_80046C20
/* 47B80 80046F80 24150002 */   addiu     $s5, $zero, 0x2
/* 47B84 80046F84 97A5006A */  lhu        $a1, 0x6A($sp)
/* 47B88 80046F88 3C1E8007 */  lui        $fp, %hi(D_8006EB30)
/* 47B8C 80046F8C 3C178009 */  lui        $s7, %hi(D_80095730)
/* 47B90 80046F90 3C148009 */  lui        $s4, %hi(D_80095AB0)
/* 47B94 80046F94 000570C3 */  sra        $t6, $a1, 3
/* 47B98 80046F98 00057940 */  sll        $t7, $a1, 5
/* 47B9C 80046F9C AFAF0040 */  sw         $t7, 0x40($sp)
/* 47BA0 80046FA0 AFAE0044 */  sw         $t6, 0x44($sp)
/* 47BA4 80046FA4 26945AB0 */  addiu      $s4, $s4, %lo(D_80095AB0)
/* 47BA8 80046FA8 26F75730 */  addiu      $s7, $s7, %lo(D_80095730)
/* 47BAC 80046FAC 27DEEB30 */  addiu      $fp, $fp, %lo(D_8006EB30)
.L80046FB0:
/* 47BB0 80046FB0 92F80000 */  lbu        $t8, 0x0($s7)
/* 47BB4 80046FB4 24010002 */  addiu      $at, $zero, 0x2
/* 47BB8 80046FB8 97A5006A */  lhu        $a1, 0x6A($sp)
/* 47BBC 80046FBC 17010003 */  bne        $t8, $at, .L80046FCC
/* 47BC0 80046FC0 02808025 */   or        $s0, $s4, $zero
/* 47BC4 80046FC4 8FD90000 */  lw         $t9, 0x0($fp)
/* 47BC8 80046FC8 12390023 */  beq        $s1, $t9, .L80047058
.L80046FCC:
/* 47BCC 80046FCC 24080002 */   addiu     $t0, $zero, 0x2
/* 47BD0 80046FD0 A2E80000 */  sb         $t0, 0x0($s7)
/* 47BD4 80046FD4 AFD10000 */  sw         $s1, 0x0($fp)
/* 47BD8 80046FD8 1A200010 */  blez       $s1, .L8004701C
/* 47BDC 80046FDC 00001025 */   or        $v0, $zero, $zero
/* 47BE0 80046FE0 32240003 */  andi       $a0, $s1, 0x3
/* 47BE4 80046FE4 10800006 */  beqz       $a0, .L80047000
/* 47BE8 80046FE8 00801825 */   or        $v1, $a0, $zero
.L80046FEC:
/* 47BEC 80046FEC 24420001 */  addiu      $v0, $v0, 0x1
/* 47BF0 80046FF0 A2000000 */  sb         $zero, 0x0($s0)
/* 47BF4 80046FF4 1462FFFD */  bne        $v1, $v0, .L80046FEC
/* 47BF8 80046FF8 26100001 */   addiu     $s0, $s0, 0x1
/* 47BFC 80046FFC 10510007 */  beq        $v0, $s1, .L8004701C
.L80047000:
/* 47C00 80047000 24420004 */   addiu     $v0, $v0, 0x4
/* 47C04 80047004 A2000000 */  sb         $zero, 0x0($s0)
/* 47C08 80047008 A2000001 */  sb         $zero, 0x1($s0)
/* 47C0C 8004700C A2000002 */  sb         $zero, 0x2($s0)
/* 47C10 80047010 A2000003 */  sb         $zero, 0x3($s0)
/* 47C14 80047014 1451FFFA */  bne        $v0, $s1, .L80047000
/* 47C18 80047018 26100004 */   addiu     $s0, $s0, 0x4
.L8004701C:
/* 47C1C 8004701C 24090001 */  addiu      $t1, $zero, 0x1
/* 47C20 80047020 AE89003C */  sw         $t1, 0x3C($s4)
/* 47C24 80047024 240A00FF */  addiu      $t2, $zero, 0xFF
/* 47C28 80047028 240B0003 */  addiu      $t3, $zero, 0x3
/* 47C2C 8004702C 240C0021 */  addiu      $t4, $zero, 0x21
/* 47C30 80047030 240D0002 */  addiu      $t5, $zero, 0x2
/* 47C34 80047034 240E00FF */  addiu      $t6, $zero, 0xFF
/* 47C38 80047038 240F00FE */  addiu      $t7, $zero, 0xFE
/* 47C3C 8004703C A20A0000 */  sb         $t2, 0x0($s0)
/* 47C40 80047040 A20B0001 */  sb         $t3, 0x1($s0)
/* 47C44 80047044 A20C0002 */  sb         $t4, 0x2($s0)
/* 47C48 80047048 A20D0003 */  sb         $t5, 0x3($s0)
/* 47C4C 8004704C A20E0026 */  sb         $t6, 0x26($s0)
/* 47C50 80047050 10000002 */  b          .L8004705C
/* 47C54 80047054 A20F0027 */   sb        $t7, 0x27($s0)
.L80047058:
/* 47C58 80047058 02918021 */  addu       $s0, $s4, $s1
.L8004705C:
/* 47C5C 8004705C 8FB80044 */  lw         $t8, 0x44($sp)
/* 47C60 80047060 30A4FFFF */  andi       $a0, $a1, 0xFFFF
/* 47C64 80047064 0C0121D0 */  jal        func_80048740
/* 47C68 80047068 A2180004 */   sb        $t8, 0x4($s0)
/* 47C6C 8004706C 8FB90040 */  lw         $t9, 0x40($sp)
/* 47C70 80047070 24040001 */  addiu      $a0, $zero, 0x1
/* 47C74 80047074 02802825 */  or         $a1, $s4, $zero
/* 47C78 80047078 00594025 */  or         $t0, $v0, $t9
/* 47C7C 8004707C 0C0121A4 */  jal        func_80048690
/* 47C80 80047080 A2080005 */   sb        $t0, 0x5($s0)
/* 47C84 80047084 02C02025 */  or         $a0, $s6, $zero
/* 47C88 80047088 00002825 */  or         $a1, $zero, $zero
/* 47C8C 8004708C 0C00DCC8 */  jal        func_80037320
/* 47C90 80047090 24060001 */   addiu     $a2, $zero, 0x1
/* 47C94 80047094 00002025 */  or         $a0, $zero, $zero
/* 47C98 80047098 0C0121A4 */  jal        func_80048690
/* 47C9C 8004709C 02802825 */   or        $a1, $s4, $zero
/* 47CA0 800470A0 02C02025 */  or         $a0, $s6, $zero
/* 47CA4 800470A4 00002825 */  or         $a1, $zero, $zero
/* 47CA8 800470A8 0C00DCC8 */  jal        func_80037320
/* 47CAC 800470AC 24060001 */   addiu     $a2, $zero, 0x1
/* 47CB0 800470B0 92130002 */  lbu        $s3, 0x2($s0)
/* 47CB4 800470B4 26120006 */  addiu      $s2, $s0, 0x6
/* 47CB8 800470B8 326900C0 */  andi       $t1, $s3, 0xC0
/* 47CBC 800470BC 00099903 */  sra        $s3, $t1, 4
/* 47CC0 800470C0 56600014 */  bnel       $s3, $zero, .L80047114
/* 47CC4 800470C4 24130001 */   addiu     $s3, $zero, 0x1
/* 47CC8 800470C8 0C012204 */  jal        func_80048810
/* 47CCC 800470CC 02402025 */   or        $a0, $s2, $zero
/* 47CD0 800470D0 920B0026 */  lbu        $t3, 0x26($s0)
/* 47CD4 800470D4 02402025 */  or         $a0, $s2, $zero
/* 47CD8 800470D8 8FA5006C */  lw         $a1, 0x6C($sp)
/* 47CDC 800470DC 11620008 */  beq        $t3, $v0, .L80047100
/* 47CE0 800470E0 00000000 */   nop
/* 47CE4 800470E4 02C02025 */  or         $a0, $s6, $zero
/* 47CE8 800470E8 0C011B24 */  jal        func_80046C90
/* 47CEC 800470EC 02202825 */   or        $a1, $s1, $zero
/* 47CF0 800470F0 1440000D */  bnez       $v0, .L80047128
/* 47CF4 800470F4 00409825 */   or        $s3, $v0, $zero
/* 47CF8 800470F8 10000006 */  b          .L80047114
/* 47CFC 800470FC 24130004 */   addiu     $s3, $zero, 0x4
.L80047100:
/* 47D00 80047100 0C010194 */  jal        func_80040650
/* 47D04 80047104 24060020 */   addiu     $a2, $zero, 0x20
/* 47D08 80047108 10000003 */  b          .L80047118
/* 47D0C 8004710C 24010004 */   addiu     $at, $zero, 0x4
/* 47D10 80047110 24130001 */  addiu      $s3, $zero, 0x1
.L80047114:
/* 47D14 80047114 24010004 */  addiu      $at, $zero, 0x4
.L80047118:
/* 47D18 80047118 16610003 */  bne        $s3, $at, .L80047128
/* 47D1C 8004711C 2AA20000 */   slti      $v0, $s5, 0x0
/* 47D20 80047120 1040FFA3 */  beqz       $v0, .L80046FB0
/* 47D24 80047124 26B5FFFF */   addiu     $s5, $s5, -0x1
.L80047128:
/* 47D28 80047128 0C011B19 */  jal        func_80046C64
/* 47D2C 8004712C 00000000 */   nop
/* 47D30 80047130 8FBF003C */  lw         $ra, 0x3C($sp)
/* 47D34 80047134 02601025 */  or         $v0, $s3, $zero
/* 47D38 80047138 8FB30024 */  lw         $s3, 0x24($sp)
/* 47D3C 8004713C 8FB00018 */  lw         $s0, 0x18($sp)
/* 47D40 80047140 8FB1001C */  lw         $s1, 0x1C($sp)
/* 47D44 80047144 8FB20020 */  lw         $s2, 0x20($sp)
/* 47D48 80047148 8FB40028 */  lw         $s4, 0x28($sp)
/* 47D4C 8004714C 8FB5002C */  lw         $s5, 0x2C($sp)
/* 47D50 80047150 8FB60030 */  lw         $s6, 0x30($sp)
/* 47D54 80047154 8FB70034 */  lw         $s7, 0x34($sp)
/* 47D58 80047158 8FBE0038 */  lw         $fp, 0x38($sp)
/* 47D5C 8004715C 03E00008 */  jr         $ra
/* 47D60 80047160 27BD0060 */   addiu     $sp, $sp, 0x60
/* 47D64 80047164 00000000 */  nop
/* 47D68 80047168 00000000 */  nop
/* 47D6C 8004716C 00000000 */  nop
